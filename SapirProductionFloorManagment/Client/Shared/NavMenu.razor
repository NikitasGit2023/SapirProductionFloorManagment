@using SapirProductionFloorManagment.Shared

<div class="top-row ps-3 navbar navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href=""><img class="logo-icon" src="/logo.png" /></a>
        <button title="Navigation menu" class="navbar-toggler" @onclick="ToggleNavMenu">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</div>

<div class="@NavMenuCssClass nav-scrollable" @onclick="ToggleNavMenu" style="background-color:ghostwhite">
    <nav class="flex-column">
        <br />
            <AuthorizeView Roles="Basic,Admin,Developer">
                <Authorized>      
            <br />
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="dashboard">
                    <span aria-hidden="true">
                        <img src="/chart.png" height="35" width="35" />
                    </span> <IconText Content="&nbsp;  &nbsp; Dashboard"></IconText>
                </NavLink>
            </div>
            </Authorized>
            <NotAuthorized>

            </NotAuthorized>
            <NotAuthorized>

            </NotAuthorized>
        </AuthorizeView>

        <AuthorizeView Roles="Admin,Developer" >
            <Authorized>
            <br />
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="generaltables">
                    <span aria-hidden="true">
                        <img alt="Icon"
                             src="/information.png" width="35" height="35" />
                    </span> <IconText Content="&nbsp; &nbsp; View Information"></IconText>
                </NavLink>
            </div>
            </Authorized>
            <NotAuthorized>

            </NotAuthorized>
        </AuthorizeView>

        <AuthorizeView Roles="Basic,Admin,Developer">
            <Authorized>
            <br />
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="dailyprogram">
                    <span aria-hidden="true">
                        <img alt="Icon" src="/work.png" height="35" width="35" />
                    </span> <IconText Content="&nbsp;  &nbsp; Work Plan"></IconText>
                </NavLink>
            </div>
            </Authorized>
            <NotAuthorized>

            </NotAuthorized>
        </AuthorizeView>

        <AuthorizeView Roles="Admin,Developer,Basic">
            <Authorized>
                <br />
                <div class="nav-item px-3">
                    <NavLink class="nav-link" href="prodreport">
                        <span aria-hidden="true">
                            <img alt="Icon" src="/checklist.png" height="35" width="35" />
                        </span> <IconText Content="&nbsp; &nbsp; Production Report"></IconText>
                    </NavLink>
                </div>
            </Authorized>
            <NotAuthorized>

            </NotAuthorized>
        </AuthorizeView>

            <AuthorizeView Roles="Admin,Developer"> 
                <Authorized> 
                <br />
                <div class="nav-item px-3">
                    <NavLink class="nav-link" href="uploadinfo">
                        <span aria-hidden="true">
                            <img alt="Icon" src="/upload.png" height="35" width="35" />
                        </span><IconText Content="&nbsp; &nbsp; Upload Info"></IconText>
                    </NavLink>
                </div>
               </Authorized>
               <NotAuthorized>

               </NotAuthorized>
            </AuthorizeView> 
   

            <AuthorizeView Roles="Admin,Developer">
                <Authorized>
                <br />
                <div class="nav-item px-3">
                    <NavLink class="nav-link" href="config">
                        <span aria-hidden="true">
                            <img alt="Icon" src="/settings.png" height="35" width="35" />
                        </span> <IconText Content="&nbsp; &nbsp; Configuration"></IconText>
                    </NavLink>
                </div>
                </Authorized>
                <NotAuthorized>

                </NotAuthorized>
            </AuthorizeView>

    </nav>
</div>



@code {

    //bugged

    private bool collapseNavMenu = true;

    private bool navIsShowed = true;

    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    public void HideNavMenu() => navIsShowed = !navIsShowed;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }

}
